<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MCDONALD'S EDSA CALOOCAN | Admin Planner</title>

<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;600;700&display=swap" rel="stylesheet">

<style>
:root {
    --bg-image: url("mcdo_cover.png"); /* CHANGE IMAGE PATH IF NEEDED */
}

body {
    font-family: 'Roboto', sans-serif;
    margin: 0;
    min-height: 100vh;
    background:
        linear-gradient(rgba(0,0,0,0.55), rgba(0,0,0,0.55)),
        var(--bg-image) no-repeat center / cover;
    display: flex;
    flex-direction: column;
}

/* HEADER */
.top-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 18px 30px;
    background: rgba(0,0,0,0.65);
    color: #fff;
}

.header-left {
    font-weight: 700;
    font-size: 1.2rem;
}

.home-btn {
    background: #f2c94c;
    color: #333;
    padding: 8px 18px;
    border-radius: 20px;
    text-decoration: none;
    font-weight: 700;
}

/* MAIN */
main {
    display: flex;
    flex-wrap: wrap;
    max-width: 1200px;
    margin: 25px auto;
    gap: 20px;
    justify-content: center;
}

.form-container,
.calendar-container {
    background: rgba(255,255,255,0.95);
    padding: 25px;
    border-radius: 16px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.25);
}

.form-container {
    flex: 1 1 350px;
    max-width: 400px;
}

.calendar-container {
    flex: 2 1 600px;
}

/* FORM */
form {
    display: flex;
    flex-direction: column;
    gap: 14px;
}

label {
    font-weight: 700;
    color: #c62828;
}

input, select, textarea {
    padding: 10px;
    border-radius: 8px;
    border: 2px solid #f2c94c;
}

button {
    background: #f2c94c;
    border: none;
    padding: 12px;
    font-weight: 700;
    border-radius: 8px;
    cursor: pointer;
}

/* CALENDAR */
#calendar {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 12px;
}

.day-header {
    background: #c62828;
    color: white;
    text-align: center;
    padding: 8px;
    border-radius: 8px;
    font-weight: 700;
}

.day {
    background: #fff;
    border-radius: 12px;
    padding: 8px;
    min-height: 130px;
    display: flex;
    flex-direction: column;
}

.today { border: 2px solid #c62828; }

.past {
    background: #eee;
    color: #aaa;
    pointer-events: none;
}

.slot {
    font-size: 0.7rem;
    padding: 5px;
    margin-top: 4px;
    border-radius: 6px;
    font-weight: 700;
}

.available { background: #e8f5e9; color: #2e7d32; }
.booked-party { background: #fdecea; color: #b71c1c; }
.booked-business { background: #e3f2fd; color: #0d47a1; }
.blocked { background: #ccc; color: #666; }

/* RESPONSIVE */
@media (max-width: 992px) {
    main { flex-direction: column; }
}
</style>
</head>

<body>

<header class="top-header">
    <div class="header-left">üçî MCDONALD'S EDSA CALOOCAN - ADMIN PLANNER</div>
    <a href="https://sites.google.com/view/mcdoedsacaloocan" class="home-btn">Home</a>
</header>

<main>

<div class="form-container">
<form id="eventForm">
    <label>Date</label>
    <input type="date" id="date" required>

    <label>Time</label>
    <select id="time" required>
        <option value="06:00">6:00 AM</option>
        <option value="09:00">9:00 AM</option>
        <option value="14:00">2:00 PM</option>
        <option value="17:00">5:00 PM</option>
        <option value="20:00">8:00 PM</option>
    </select>

    <label>Event Type</label>
    <select id="type" required>
        <option value="Party">Party (1.5 hrs)</option>
        <option value="Business">Business Meeting (2 hrs)</option>
    </select>

    <textarea id="desc" placeholder="Description"></textarea>
    <button>Add Event</button>
</form>
</div>

<div class="calendar-container">
<div id="calendar"></div>
</div>

</main>

<script>
const slots = ["06:00","09:00","14:00","17:00","20:00"];
const durations = { Party: 1.5, Business: 2 };
let current = new Date();

const load = () => JSON.parse(localStorage.getItem("events") || "{}");
const save = e => localStorage.setItem("events", JSON.stringify(e));

function overlaps(start1, dur1, start2, dur2){
    const s1 = parseInt(start1.replace(":",""));
    const e1 = s1 + dur1 * 100;
    const s2 = parseInt(start2.replace(":",""));
    const e2 = s2 + dur2 * 100;
    return Math.max(s1,s2) < Math.min(e1,e2);
}

document.getElementById("eventForm").onsubmit = e => {
    e.preventDefault();
    const d = date.value;
    const t = time.value;
    const ty = type.value;
    const ev = load();
    if(!ev[d]) ev[d]=[];

    for(let x of ev[d]){
        if(overlaps(t,durations[ty],x.time,durations[x.type])){
            alert("Time conflict detected!");
            return;
        }
    }

    ev[d].push({time:t,type:ty,desc:desc.value});
    save(ev);
    render();
    e.target.reset();
};

function render(){
    const cal = document.getElementById("calendar");
    cal.innerHTML="";
    const y=current.getFullYear(), m=current.getMonth();
    const days=new Date(y,m+1,0).getDate();
    const start=new Date(y,m,1).getDay();
    ["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].forEach(d=>{
        cal.innerHTML+=`<div class="day-header">${d}</div>`;
    });
    for(let i=0;i<start;i++) cal.innerHTML+=`<div class="day"></div>`;
    const ev=load();

    for(let d=1;d<=days;d++){
        const dateKey=`${y}-${String(m+1).padStart(2,"0")}-${String(d).padStart(2,"0")}`;
        let html=`<div class="day"><strong>${d}</strong>`;
        slots.forEach(s=>{
            let status="available";
            let label="Available";
            if(ev[dateKey]){
                ev[dateKey].forEach(e=>{
                    if(overlaps(s,1.5,e.time,durations[e.type])){
                        status = e.type==="Business"?"blocked":"booked-party";
                        label = e.type;
                    }
                });
            }
            html+=`<div class="slot ${status}">${s} - ${label}</div>`;
        });
        html+="</div>";
        cal.innerHTML+=html;
    }
}
render();
</script>

</body>
</html>
